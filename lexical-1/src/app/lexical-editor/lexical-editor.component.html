<div class="editor-wrapper row">
  <h2>Lexical Rich Text Editor</h2>

  <!-- Toolbar -->
  <div class="toolbar">
    <div class="toolbar-group">
      <button
        (mousedown)="$event.preventDefault()"
        (click)="formatText('bold')"
        [class.active]="isBold"
        title="Bold (Ctrl+B)"
        class="toolbar-button">
        <strong>B</strong>
      </button>
      <button
        (mousedown)="$event.preventDefault()"
        (click)="formatText('italic')"
        [class.active]="isItalic"
        title="Italic (Ctrl+I)"
        class="toolbar-button">
        <em>I</em>
      </button>
      <button
        (mousedown)="$event.preventDefault()"
        (click)="formatText('underline')"
        [class.active]="isUnderline"
        title="Underline (Ctrl+U)"
        class="toolbar-button">
        <u>U</u>
      </button>
      <button
        (mousedown)="$event.preventDefault()"
        (click)="formatText('strikethrough')"
        [class.active]="isStrikethrough"
        title="Strikethrough"
        class="toolbar-button">
        <s>S</s>
      </button>
      <button
        (mousedown)="$event.preventDefault()"
        (click)="formatText('code')"
        [class.active]="isCode"
        title="Code"
        class="toolbar-button">
        &lt;/&gt;
      </button>
    </div>

    <div class="toolbar-divider"></div>

    <div class="toolbar-group">
      <button
        (mousedown)="$event.preventDefault()"
        (click)="formatHeading('h1')"
        [class.active]="isH1"
        title="Heading 1"
        class="toolbar-button">
        H1
      </button>
      <button
        (mousedown)="$event.preventDefault()"
        (click)="formatHeading('h2')"
        [class.active]="isH2"
        title="Heading 2"
        class="toolbar-button">
        H2
      </button>
      <button
        (mousedown)="$event.preventDefault()"
        (click)="formatHeading('h3')"
        [class.active]="isH3"
        title="Heading 3"
        class="toolbar-button">
        H3
      </button>
    </div>

    <div class="toolbar-divider"></div>

    <div class="toolbar-group">
      <button
        (mousedown)="$event.preventDefault()"
        (click)="setTextAlignment('left')"
        [class.active]="isAlignLeft"
        title="Align Left"
        class="toolbar-button">
        &#8676;
      </button>
      <button
        (mousedown)="$event.preventDefault()"
        (click)="setTextAlignment('center')"
        [class.active]="isAlignCenter"
        title="Align Center"
        class="toolbar-button">
        &#8801;
      </button>
      <button
        (mousedown)="$event.preventDefault()"
        (click)="setTextAlignment('right')"
        [class.active]="isAlignRight"
        title="Align Right"
        class="toolbar-button">
        &#8677;
      </button>
    </div>

    <div class="toolbar-divider"></div>

    <div class="toolbar-group">
      <button
        (mousedown)="$event.preventDefault()"
        (click)="setTextDirection('ltr')"
        [class.active]="isLtr"
        title="Left-to-Right (LTR)"
        class="toolbar-button">
        LTR
      </button>
      <button
        (mousedown)="$event.preventDefault()"
        (click)="setTextDirection('rtl')"
        [class.active]="isRtl"
        title="Right-to-Left (RTL)"
        class="toolbar-button">
        RTL
      </button>
    </div>

    <div class="toolbar-divider"></div>

    <div class="toolbar-group">
      <select
        class="font-family-select"
        [value]="currentFontFamily"
        (change)="onFontFamilyChange($event)"
        title="Font Family">
        <option value="system-ui, -apple-system, sans-serif">System Default</option>
        <option value="Arial, sans-serif">Arial</option>
        <option value="'Helvetica Neue', Helvetica, sans-serif">Helvetica</option>
        <option value="'Times New Roman', Times, serif">Times New Roman</option>
        <option value="Georgia, serif">Georgia</option>
        <option value="'Courier New', Courier, monospace">Courier New</option>
        <option value="Monaco, 'Lucida Console', monospace">Monaco</option>
        <option value="'Comic Sans MS', cursive">Comic Sans MS</option>
        <option value="Impact, fantasy">Impact</option>
        <option value="Verdana, sans-serif">Verdana</option>
        <option value="'Trebuchet MS', sans-serif">Trebuchet MS</option>
        <option value="'Brush Script MT', cursive">Brush Script</option>
      </select>
    </div>

    <div class="toolbar-divider"></div>

    <div class="toolbar-group">
      <select
        class="font-size-select"
        [value]="currentFontSize"
        (change)="onFontSizeChange($event)"
        title="Font Size">
        <option value="12px">12px - Small</option>
        <option value="14px">14px</option>
        <option value="16px">16px - Normal</option>
        <option value="18px">18px</option>
        <option value="20px">20px - Large</option>
        <option value="24px">24px</option>
        <option value="28px">28px</option>
        <option value="32px">32px - Huge</option>
        <option value="36px">36px</option>
        <option value="48px">48px</option>
      </select>
    </div>

    <div class="toolbar-divider"></div>

    <div class="toolbar-group">
      <div class="color-picker-wrapper">
        <input
          type="color"
          class="color-picker"
          [value]="currentTextColor"
          (change)="onTextColorChange($event)"
          title="Text Color">
        <label class="color-picker-label" [style.--current-color]="currentTextColor">
          <span class="color-icon">A</span>
        </label>
      </div>
    </div>

    <div class="toolbar-divider"></div>

    <div class="toolbar-group">
      <button
        (click)="undo()"
        title="Undo (Ctrl+Z)"
        class="toolbar-button">
        ↶
      </button>
      <button
        (click)="redo()"
        title="Redo (Ctrl+Y)"
        class="toolbar-button">
        ↷
      </button>
    </div>

    <div class="toolbar-divider"></div>

    <div class="toolbar-group">
      <button
        (click)="clearFormatting()"
        title="Clear Formatting"
        class="toolbar-button">
        ✕
      </button>
    </div>
  </div>

  <div #editorContainer class="editor-container" contenteditable="true"></div>
</div>

<div class="row html-output">
  <h3>HTML Output:</h3>
  <div class="html-container">
    <pre><code>{{ htmlRepresentation }}</code></pre>
  </div>
</div>
